<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Maps</title>
<link rel="stylesheet"
  href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
  integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
  crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="/custom.css">
</head>
<body>
	<div class="container">
		<div class="bg-light justify-content-center row">
     	 <div class="col-md-6">
       	 <h1 class="text-center">Get Map</h1>
        	<form th:action="@{/}" th:object="${location}" method="post" autocomplete="off">
         	 <div class="form-group">
            	<input type="text" th:field="*{city}" placeholder="City" class="form-control">
            	<input type="text" th:field="*{state}" placeholder="State" class="form-control">
            	<button class="btn btn-info btn-block" type="submit">Get Map</button>
          	</div>
        	</form>
        </div>
      </div>
		<div id="map"></div>
	</div>
	<script th:inline="javascript">
		/*<![CDATA[*/
		
		let coords = {
			lat: parseFloat(/*[[${location.lat}]]*/) || 33.4482,
			lng: parseFloat(/*[[${location.lng}]]*/) || -112.0738
		};
		let city = /*[[${location.city}]]*/;
		let state = /*[[${location.state}]]*/;
		
		/*]]*/
	</script>
	<script src = "custom.js"></script>
	
	
	<script th:src="@{${'https://maps.googleapis.com/maps/api/js?key=' 
	+ @environment.getProperty('api_key') + '&callback=initMap'}}"
	async defer></script>


 <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
  <script
    src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
    integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
    crossorigin="anonymous"></script>
  <script
    src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
    integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
    crossorigin="anonymous"></script>
</body>
</html>